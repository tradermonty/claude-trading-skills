# Claude Trading Skills

このリポジトリは、株式投資やトレードに役立つClaudeスキルをまとめたものです。各スキルには、プロンプト設計、参照資料、補助スクリプトが含まれており、システマティックなバックテスト、マーケット分析、テクニカルチャート分析、経済カレンダー監視、米国株リサーチをClaudeに任せることができます。ClaudeのウェブアプリとClaude Codeの両方で活用できます。

English README is available at [`README.md`](README.md).

## リポジトリ構成
- `<skill-name>/` – 各スキルのソースフォルダ。`SKILL.md`、参照資料、補助スクリプトが含まれます。
- `zip-packages/` – Claudeウェブアプリの**Skills**タブへそのままアップロードできるZIPパッケージ置き場。

## はじめに
### Claudeウェブアプリで使う場合
1. 利用したいスキルに対応するZIPを`zip-packages/`からダウンロードします。
2. ブラウザでClaudeを開き、**Settings → Skills**に進んでZIPをアップロードします（詳しくはAnthropicの[Skillsローンチ記事](https://www.anthropic.com/news/skills)を参照）。
3. 必要な会話内でスキルを有効化します。

### Claude Code（デスクトップ/CLI）で使う場合
1. このリポジトリをクローン、もしくはダウンロードします。
2. 使いたいスキルのフォルダ（例: `backtest-expert`）をClaude Codeの**Skills**ディレクトリにコピーします（Claude Code → **Settings → Skills → Open Skills Folder**。詳細は[Claude Code Skillsドキュメント](https://docs.claude.com/en/docs/claude-code/skills)を参照）。
3. Claude Codeを再起動、またはリロードすると新しいスキルが認識されます。

> ヒント: ソースフォルダとZIPの内容は同一です。スキルをカスタマイズする場合はソースフォルダを編集し、ウェブアプリ向けに配布するときは再度ZIP化してください。

## スキル一覧

### マーケット分析・リサーチ

- **セクターアナリスト** (`sector-analyst`)
  - セクター・業種のパフォーマンスチャートを分析し、マーケットサイクル理論に基づく市場ポジショニングとローテーションパターンを評価。
  - 1週間・1ヶ月のパフォーマンスチャートから、Early/Mid/Late CycleまたはRecessionポジショニングを識別。
  - セクターローテーション戦略のためのシナリオベース確率評価を生成。
  - すべてのマーケットサイクルフェーズにおける包括的なセクターローテーションパターンを参照資料として収録。

- **ブレッド（市場幅）チャートアナリスト** (`breadth-chart-analyst`)
  - S&P 500ブレッドインデックスと米国株上昇トレンド銘柄比率チャートを分析し、市場の健全性とポジショニングを評価。
  - 市場幅指標に基づく中期的戦略と短期的戦術の市場見通しを提供。
  - 強気相場フェーズ（健全な市場幅、市場幅縮小、分配）と弱気相場シグナルを識別。
  - 詳細な市場幅解釈フレームワークと歴史的パターン参照を含む。

- **テクニカルアナリスト** (`technical-analyst`)
  - 株式、指数、暗号通貨、為替ペアの週足チャートを純粋なテクニカル分析で評価。
  - ファンダメンタルバイアスなしで、トレンド、サポート/レジスタンスレベル、チャートパターン、モメンタム指標を識別。
  - トレンド変化の具体的なトリガーレベルを含むシナリオベース確率評価を生成。
  - エリオット波動、ダウ理論、日本のローソク足、テクニカル指標解釈を参照資料として収録。

- **マーケットニュースアナリスト** (`market-news-analyst`)
  - WebSearch/WebFetchを使った自動収集により、過去10日間の市場動向ニュースイベントを分析。
  - FOMCの決定、中央銀行の政策、メガキャップ決算、地政学イベント、コモディティ市場要因に焦点。
  - 定量的スコアリングフレームワーク（価格インパクト×広がり×将来重要性）を使用したインパクトランク付けレポートを生成。
  - 信頼できるニュースソースガイド、イベントパターン分析、地政学-コモディティ相関を参照資料として収録。

- **米国株分析** (`us-stock-analysis`)
  - ファンダメンタル、テクニカル、同業比較、投資メモ生成を網羅した包括的な米国株リサーチアシスタント。
  - 財務指標、バリュエーション比率、成長軌道、競争力ポジショニングを分析。
  - 強気/弱気ケースとリスク評価を含む構造化された投資メモを生成。
  - 分析フレームワーク（`fundamental-analysis.md`、`technical-analysis.md`、`financial-metrics.md`、`report-template.md`）を参照ライブラリに収録。

- **マーケット環境分析** (`market-environment-analysis`)
  - 株式指数、為替、コモディティ、金利、市場センチメントを含むグローバルマクロブリーフィングをガイド。
  - 指標ベース評価を含む日次/週次マーケットレビュー用の構造化レポートテンプレートを提供。
  - インジケータ解説（`references/indicators.md`）と分析パターンを含む。
  - レポート整形とデータ可視化を支援する補助スクリプト`scripts/market_utils.py`を同梱。

- **マーケットブレッド アナライザー** (`market-breadth-analyzer`)
  - TraderMontyの公開CSVデータを使用し、データ駆動型6コンポーネントスコアリングシステム（0-100）で市場幅の健全性を定量化。
  - コンポーネント: 全体ブレッド、セクター参加、セクターローテーション、モメンタム、平均回帰リスク、ヒストリカルコンテキスト。
  - APIキー不要 - GitHubの無料CSVデータを使用。

- **アップトレンドアナライザー** (`uptrend-analyzer`)
  - Monty's Uptrend Ratio Dashboardを使用して、約2,800の米国株を11セクターにわたり追跡し、市場幅の健全性を診断。
  - 5コンポーネント複合スコアリング（0-100）: マーケットブレッド、セクター参加、セクターローテーション、モメンタム、ヒストリカルコンテキスト。
  - 警告オーバーレイシステム: Late CycleとHigh Selectivityフラグがエクスポージャーガイダンスを引き締め、注意アクションを追加。
  - APIキー不要 - GitHubの無料CSVデータを使用。

- **マクロレジーム検出器** (`macro-regime-detector`)
  - クロスアセット比率分析を用いて構造的なマクロレジーム転換（1-2年ホライズン）を検出。
  - 6コンポーネント分析: RSP/SPY集中度、イールドカーブ、クレジット環境、サイズファクター、株式-債券関係、セクターローテーション。
  - レジーム識別: Concentration、Broadening、Contraction、Inflationary、Transitional。
  - FMP APIキーが必要。

- **テーマ検出器** (`theme-detector`)
  - FINVIZの業種・セクターパフォーマンスデータを複数タイムフレームで分析し、上昇・下落両方のトレンドテーマを検出。
  - 3次元スコアリング: Theme Heat (0-100: モメンタム/ボリューム/アップトレンド/ブレッド)、Lifecycle Maturity (0-100: 持続期間/RSI極端度/価格極端度/バリュエーション/ETF本数)、Confidence (Low/Medium/High)。
  - Direction-aware分析: ベアテーマもブルテーマと同等の感度でスコアリング（反転指標使用）。
  - クロスセクターテーマ検出（AI/半導体、クリーンエネルギー、ゴールド、サイバーセキュリティ等）とセクター内垂直集中検出。
  - ライフサイクルステージ: Emerging, Accelerating, Trending, Mature, Exhausting — テーマごとに代表銘柄とプロキシETFを表示。
  - Monty's Uptrend Ratio Dashboardを補助ブレッドシグナルとして統合（3点評価: ratio + MA10 + slope）。
  - コア機能にAPIキー不要（FINVIZパブリック + yfinance）。FMP/FINVIZ Eliteはオプションで銘柄選定を強化。

### 経済・決算カレンダー

- **経済カレンダー取得** (`economic-calendar-fetcher`)
  - Financial Modeling Prep (FMP) APIを使用して、今後7-90日間の経済イベントを取得。
  - 中央銀行の決定、雇用統計（NFP）、インフレデータ（CPI/PPI）、GDP発表、その他市場を動かす指標を取得。
  - インパクト評価（High/Medium/Low）と市場への影響分析を含む時系列マークダウンレポートを生成。
  - 包括的なエラー処理を備えた柔軟なAPIキー管理（環境変数またはユーザー入力）をサポート。

- **決算カレンダー** (`earnings-calendar`)
  - FMP APIを使用して、時価総額2B ドル以上の中型株以上の企業に焦点を当てた米国株の今後の決算発表を取得。
  - 日付とタイミング（市場前、市場後、市場中）別に決算を整理。
  - 週次決算レビューとポートフォリオ監視のためのクリーンなマークダウンテーブル形式を提供。
  - CLI、デスクトップ、Web環境をサポートする柔軟なAPIキー管理。

### 戦略・リスク管理

- **シナリオアナライザー** (`scenario-analyzer`)
  - ニュースヘッドラインを入力として18ヶ月シナリオを分析。1次・2次・3次影響、推奨銘柄、レビューを含む包括的レポートを生成。
  - デュアルエージェント構成: scenario-analystで主分析、strategy-reviewerでセカンドオピニオンを取得。
  - APIキー不要 - WebSearchでニュース収集。

- **バックテストエキスパート** (`backtest-expert`)
  - 戦略仮説の定義、パラメータ堅牢性検証、ウォークフォワード検証を含むプロフェッショナルグレードの戦略検証フレームワーク。
  - 現実的な前提条件を重視：スリッページモデリング、取引コスト、生存バイアス除去、アウトオブサンプル検証。
  - 詳細な手法（`references/methodology.md`）と失敗事例集（`references/failed_tests.md`）を参照資料として収録。
  - アイデア生成から本番デプロイまでの品質ゲート付きシステマティックアプローチをガイド。

- **スタンレー・ドラッケンミラー投資アドバイザー** (`stanley-druckenmiller-investment`)
  - マクロポジショニング、流動性分析、非対称的リスク/リターン評価のためのドラッケンミラーの投資哲学をエンコード。
  - 「高い確信度の時は大きく賭ける」アプローチと厳格な損切り規律に焦点。
  - 投資哲学の詳細、市場分析ワークフロー、歴史的ケーススタディを含むリファレンスパック（日本語・英語）。
  - マクロテーマの識別、テクニカル確認、ポジションサイジング戦略を重視。

- **米国市場バブル検出器** (`us-market-bubble-detector`)
  - 定量的8指標「バブルメーター」スコアリングシステムを備えたミンスキー/キンドルバーガーバブルフレームワーク。
  - バブルステージを識別：転換 → ブーム → 熱狂 → 利益確定 → パニック。
  - 各ステージの実行可能なプレイブックを提供：利益確定戦略、ヘッジ戦術、現金展開タイミング。
  - 歴史的ケースファイル（ドットコム2000、住宅2008、COVID 2020）、クイックリファレンスチェックリスト（日英）、対話型スコアラースクリプト`scripts/bubble_scorer.py`を補足。

- **オプション戦略アドバイザー** (`options-strategy-advisor`)
  - Black-Scholesモデルを使用した理論的価格算出、戦略分析、リスク管理ガイダンスを提供する教育的オプション取引ツール。
  - 全グリークス（Delta、Gamma、Theta、Vega、Rho）の計算と17以上のオプション戦略をサポート。
  - FMP APIは任意（株価データ取得用）。理論価格計算のみでもBlack-Scholesで動作。

- **ポートフォリオマネージャー** (`portfolio-manager`)
  - Alpaca MCP Server連携によるリアルタイム保有データを使った包括的ポートフォリオ分析・管理。
  - 多次元分析: 資産配分、セクター分散、リスク指標（ベータ、ボラティリティ、ドローダウン）、パフォーマンスレビュー。
  - HOLD/ADD/TRIM/SELLのポジションレベル推奨とリバランス計画を生成。
  - Alpaca証券口座（ペーパーまたはライブ）とAlpaca MCP Serverの設定が必要。

### マーケットタイミング・底打ち検出

- **マーケットトップ検出器** (`market-top-detector`)
  - O'NeilのDistribution Days、MinerviniのLeading Stock Deterioration、MontyのDefensive Rotationを使用してマーケットトップの確率を検出。
  - 分配と天井形成パターンを識別する6コンポーネント戦術的タイミングシステム。

- **FTD検出器** (`ftd-detector`)
  - William O'Neilの手法を用いて、市場底打ち確認のためのFollow-Through Day (FTD) シグナルを検出。
  - デュアルインデックス追跡（S&P 500 + NASDAQ）と状態マシンによるラリー試行、FTD適格、FTD後の健全性監視。
  - Market Top Detectorの補完スキル: Market Top Detector = ディフェンシブ（分配検出）、FTD Detector = オフェンシブ（底打ち確認）。
  - 修正後の市場再参入のためのエクスポージャーガイダンス付きクオリティスコア（0-100）を生成。
  - FMP APIキーが必要。

### 株式スクリーニング・選定

- **VCPスクリーナー** (`vcp-screener`)
  - S&P 500銘柄からMark MinerviniのVolatility Contraction Pattern (VCP) をスクリーニング。
  - ブレイクアウトピボットポイント近辺でボラティリティが収縮しているStage 2上昇トレンド銘柄を識別。
  - 多段階フィルタリング: トレンドテンプレート → VCPベース検出 → 収縮分析 → ピボットポイント計算。
  - FMP APIキーが必要（無料ティアで上位100候補のデフォルトスクリーニングに十分）。

- **CANSLIM株式スクリーナー** (`canslim-screener`) - **Phase 2**
  - William O'NeilのCANSLIM成長株手法を用いて米国株をスクリーニング。マルチバガー候補の発見に特化。
  - Phase 2では7コンポーネントのうち6つを実装（80%カバレッジ）：C (四半期決算)、A (年次成長)、N (新高値)、S (需給)、I (機関投資家)、M (市場方向)。
  - 複合スコアリング（0-100）と重み付け：C 19%、A 25%、N 19%、S 19%、I 13%、M 6%。
  - ボリュームベースの蓄積/分配分析（Sコンポーネント）とFinvizフォールバック付き機関投資家所有率追跡（Iコンポーネント）。
  - ベアマーケット保護：Mコンポーネントが全ての買い推奨をゲート（M=0で「現金化」警告）。
  - FMP API統合。無料ティア（250 calls/日）で40銘柄分析可能。
  - 将来のPhase 3でL (リーダーシップ/RS Rank) コンポーネントを追加して全7コンポーネント完成予定。

- **バリュー配当スクリーナー** (`value-dividend-screener`)
  - FMP APIを使用して高品質な配当投資機会をスクリーニング。
  - 多段階フィルタリング: バリュー特性（P/E≤20、P/B≤2）+ 配当利回り（≥3.5%）+ 成長性（3年配当/売上/EPS上昇トレンド）。
  - 配当持続性、財務健全性、クオリティスコアの高度な分析。FINVIZエリートは任意だが推奨（実行時間70-80%短縮）。

- **配当成長プルバックスクリーナー** (`dividend-growth-pullback-screener`)
  - 高品質な配当成長株（年間配当成長12%以上、利回り1.5%以上）で一時的なプルバック中の銘柄を検出。
  - ファンダメンタルの配当分析とテクニカルタイミング指標（RSI≤40のオーバーソールド）を組み合わせ。
  - FMP APIキーが必要。FINVIZエリートは任意（RSIプリスクリーニング用）。

- **機関投資家フロートラッカー** (`institutional-flow-tracker`)
  - 13F SEC提出書類データを使用して機関投資家の所有変動を追跡し、「スマートマネー」の蓄積・分配パターンを識別。
  - ティアベース品質フレームワーク: スーパーインベスター（Berkshire、Baupost）を3.0-3.5倍、インデックスファンドを0.0-0.5倍で重み付け。
  - FMP API統合。無料ティアで四半期ポートフォリオレビューに十分。

- **ペアトレードスクリーナー** (`pair-trade-screener`)
  - 共和分検定を用いたペアトレード機会の統計的裁定ツール。
  - ヘッジ比率、平均回帰速度（半減期）、zスコアベースのエントリー/エグジットシグナルを算出。
  - セクターワイドスクリーニングとカスタムペア分析をサポート。FMP APIキーが必要。

## ワークフロー例

### 日次マーケット監視
1. **経済カレンダー取得**を使用して、今日の高インパクトイベント（FOMC、NFP、CPI発表）をチェック
2. **決算カレンダー**を使用して、今日決算発表する主要企業を特定
3. **マーケットニュースアナリスト**を使用して、夜間の展開と市場への影響をレビュー
4. **ブレッドチャートアナリスト**を使用して、全体的な市場の健全性とポジショニングを評価

### 週次戦略レビュー
1. **セクターアナリスト**を週次パフォーマンスチャートと共に使用して、ローテーションパターンを識別
2. **テクニカルアナリスト**を主要指数とポジションに使用して、トレンド確認
3. **マーケット環境分析**を使用して、包括的なマクロブリーフィングを実施
4. **米国市場バブル検出器**を使用して、投機的過熱とリスクレベルを評価

### 個別銘柄リサーチ
1. **米国株分析**を使用して、包括的なファンダメンタルおよびテクニカルレビューを実施
2. **決算カレンダー**を使用して、今後の決算日をチェック
3. **マーケットニュースアナリスト**を使用して、最近の企業固有ニュースとセクター展開をレビュー
4. **バックテストエキスパート**を使用して、ポジションサイジング前にエントリー/エグジット戦略を検証

### 戦略的ポジショニング
1. **スタンレー・ドラッケンミラー投資アドバイザー**を使用して、マクロテーマを識別
2. **経済カレンダー取得**を使用して、主要データリリース周辺のエントリータイミングを計る
3. **ブレッドチャートアナリスト**と**テクニカルアナリスト**を使用して、確認シグナルを取得
4. **米国市場バブル検出器**を使用して、リスク管理と利益確定ガイダンスを取得

## カスタマイズと貢献
- トリガー説明や機能メモを調整する場合は、各フォルダ内の`SKILL.md`を更新してください。ZIP化する際はフロントマター`name`がフォルダ名と一致しているか確認してください。
- 参照資料の追記や新規スクリプト追加でワークフローを拡張できます。
- 変更を配布する場合は、最新の内容を反映したZIPを`zip-packages/`に再生成してください。

## API要件

いくつかのスキルはデータアクセスのためにAPIキーが必要です：

- **経済カレンダー取得**、**決算カレンダー**、**CANSLIM株式スクリーナー**、**VCPスクリーナー**、**FTD検出器**、**マクロレジーム検出器**: [Financial Modeling Prep (FMP) API](https://financialmodelingprep.com)キーが必要
  - 無料ティア: 250リクエスト/日（ほとんどのスキルに十分）
  - 環境変数を設定: `export FMP_API_KEY=your_key_here`
  - または、プロンプト時にコマンドライン引数でキーを提供
- **マーケットブレッドアナライザー**、**アップトレンドアナライザー**: APIキー不要（GitHubの無料CSVデータを使用）
- **テーマ検出器**: コア機能にAPIキー不要（FINVIZパブリック + yfinance）。FMP APIは銘柄選定強化用（オプション）、FINVIZ Eliteは銘柄リスト取得用（オプション）

## 参考リンク
- Claude Skillsローンチ概要: https://www.anthropic.com/news/skills
- Claude Code Skillsガイド: https://docs.claude.com/en/docs/claude-code/skills
- Financial Modeling Prep API: https://financialmodelingprep.com/developer/docs

質問や改善案があればissueを作成するか、各スキルフォルダにメモを残しておくと、後から利用するユーザーにもわかりやすくなります。

## ライセンス

このリポジトリのすべてのスキルと参照資料は、教育および研究目的で提供されています。
