# 重要度・優先度判定ガイド（Severity and Priority Guide）

## Overview

このガイドは、不具合の重要度（Severity）と優先度（Priority）を判定するための基準を提供します。適切な判定により、開発チームが効率的に不具合対応の優先順位を決定できます。

## 重要度（Severity）と優先度（Priority）の違い

### 重要度（Severity）
**定義**: 不具合がシステムに与える技術的な影響の大きさ

- システムやビジネスへの影響度を示す
- **誰が決めるか**: QAチーム、テスター
- **観点**: 技術的影響、機能への影響

### 優先度（Priority）
**定義**: 不具合を修正する緊急性・重要性

- いつまでに直すべきかを示す
- **誰が決めるか**: プロダクトオーナー、プロジェクトマネージャー
- **観点**: ビジネス影響、リリース計画、リソース状況

### 関係性

```
重要度が高い = 優先度が高い　とは限らない

例:
- 重要度: Critical、優先度: Low
  → 滅多に使われない管理者機能の致命的バグ（影響は大きいが使用頻度が低い）

- 重要度: Low、優先度: High
  → トップページの誤字（影響は小さいが目立つのですぐ直す）
```

---

## 重要度（Severity）の判定基準

### Critical（致命的）

**定義**: システムが使用不可、またはデータ損失・セキュリティリスクがある

**判定基準**:
- ✅ システム全体がクラッシュ、起動不可
- ✅ データ損失、データ破損が発生
- ✅ セキュリティ脆弱性（情報漏洩、不正アクセス可能）
- ✅ 決済・金銭処理の重大なエラー
- ✅ 本番環境でサービス停止

**例**:
```
❌ アプリケーションが起動しない
❌ ログイン機能が全ユーザーで使用不可
❌ SQLインジェクション脆弱性が存在
❌ 顧客データベースが削除される
❌ クレジットカード決済が二重課金される
❌ 全ユーザーのパスワードが平文で保存されている
```

**対応目安**: 即座に対応、最優先で修正

---

### High（重大）

**定義**: 主要機能が使用不可、または重要な機能に大きな支障

**判定基準**:
- ✅ 主要機能が全く使えない
- ✅ ビジネス上重要なワークフローが完了できない
- ✅ 複数ユーザーに影響がある機能不具合
- ✅ データ不整合が発生（損失ではない）
- ✅ 回避策がない、または回避策が非常に複雑

**例**:
```
❌ 商品検索機能が全く動作しない（ECサイト）
❌ レポート生成機能が500エラーになる
❌ ファイルアップロードが全て失敗する
❌ メール送信機能が動作しない
❌ 管理画面にログインできない
❌ 在庫数が正しく更新されない
```

**対応目安**: 当日〜翌営業日中に対応

---

### Medium（中程度）

**定義**: 機能に問題があるが、回避策が存在する

**判定基準**:
- ✅ 副次的な機能が使えない
- ✅ 特定条件下でのみ発生する機能不具合
- ✅ 回避策が存在する
- ✅ 一部のユーザーに影響
- ✅ パフォーマンス問題（要件未達だが使用は可能）

**例**:
```
⚠️ CSVエクスポート時に一部の列が出力されない（手動でコピー可能）
⚠️ 特定条件でソート機能が正しく動作しない（他の条件では動作）
⚠️ 検索処理が要件より遅い（10秒、要件は5秒）
⚠️ エラーメッセージが分かりにくい（エラーは表示される）
⚠️ 特定ブラウザでのみ表示が崩れる（他のブラウザでは正常）
```

**対応目安**: 次回リリースまでに対応

---

### Low（軽微）

**定義**: 機能には影響がない、または影響が非常に限定的

**判定基準**:
- ✅ UI/UXの軽微な問題（機能には影響なし）
- ✅ 誤字・脱字
- ✅ デザインの微調整
- ✅ 稀にしか使われない機能の軽微な問題
- ✅ ユーザー体験への影響が最小限

**例**:
```
ℹ️ ボタンの色がデザインガイドラインと微妙に異なる
ℹ️ ヘルプテキストに誤字がある
ℹ️ 管理画面の表示順序が非直感的
ℹ️ ツールチップの表示位置が少しずれる
ℹ️ ログ出力のフォーマットが不統一
```

**対応目安**: 時間がある時に対応、次々回以降のリリース

---

## 優先度（Priority）の判定基準

### P0（最優先）

**定義**: 即座に対応が必要、リリースブロッカー

**判定基準**:
- ✅ 本番環境で発生中のCritical不具合
- ✅ サービス停止につながる問題
- ✅ 法的・コンプライアンス上の問題
- ✅ セキュリティインシデント
- ✅ データ損失リスク

**対応目安**: 即座、数時間以内

**例**:
```
🔥 本番環境でログインできない（全ユーザー影響）
🔥 個人情報が外部に漏洩している
🔥 決済処理で二重課金が発生している
🔥 GDPRコンプライアンス違反
```

---

### P1（高優先）

**定義**: 早急に対応が必要、次回リリースに含める必要がある

**判定基準**:
- ✅ 主要機能の不具合
- ✅ 多数のユーザーに影響
- ✅ ビジネス上の重要な機能
- ✅ リリース予定日が近い
- ✅ 顧客からのエスカレーション

**対応目安**: 1〜3営業日以内

**例**:
```
🔴 商品購入フローが途中で止まる
🔴 重要な顧客向けレポート機能が動作しない
🔴 来週のリリースに影響する不具合
🔴 VIP顧客から報告された不具合
```

---

### P2（中優先）

**定義**: 計画的に対応、次回または次々回リリースで修正

**判定基準**:
- ✅ 副次的な機能の不具合
- ✅ 回避策が存在する
- ✅ 限定的なユーザーに影響
- ✅ リリース計画に余裕がある

**対応目安**: 1〜2週間以内

**例**:
```
🟡 管理画面の一部機能が使いにくい（代替手段あり）
🟡 特定条件下での表示崩れ（頻度低）
🟡 パフォーマンス改善（使用は可能）
```

---

### P3（低優先）

**定義**: 時間がある時に対応、または対応しない可能性もある

**判定基準**:
- ✅ UI/UXの微調整
- ✅ 誤字・脱字
- ✅ 使用頻度が極めて低い機能
- ✅ 影響が最小限

**対応目安**: バックログ、適宜対応

**例**:
```
⚪ ボタンの配置を微調整
⚪ ヘルプテキストの改善
⚪ ログ出力の整形
```

---

## 重要度と優先度のマトリックス

```
┌─────────────┬──────────┬──────────┬──────────┬──────────┐
│ Severity \  │ Critical │   High   │  Medium  │   Low    │
│  Priority   │          │          │          │          │
├─────────────┼──────────┼──────────┼──────────┼──────────┤
│ P0          │    ◎     │    ○     │    △     │    -     │
│ (最優先)     │  最優先   │  要検討   │   稀     │   なし   │
├─────────────┼──────────┼──────────┼──────────┼──────────┤
│ P1          │    ◎     │    ◎     │    ○     │    △     │
│ (高優先)     │  最優先   │  高優先   │  要検討   │   稀     │
├─────────────┼──────────┼──────────┼──────────┼──────────┤
│ P2          │    ○     │    ○     │    ◎     │    ○     │
│ (中優先)     │  要検討   │  要検討   │  典型的   │  要検討   │
├─────────────┼──────────┼──────────┼──────────┼──────────┤
│ P3          │    △     │    △     │    ○     │    ◎     │
│ (低優先)     │   稀     │   稀     │  要検討   │  典型的   │
└─────────────┴──────────┴──────────┴──────────┴──────────┘

◎ = 典型的な組み合わせ
○ = あり得る組み合わせ
△ = 稀な組み合わせ
- = 通常あり得ない
```

---

## 判定フローチャート

### 重要度（Severity）判定フロー

```
START
  ↓
システム全体が使用不可？
データ損失・セキュリティリスク？
  ↓ YES → Critical
  ↓ NO
主要機能が使用不可？
回避策なし？
  ↓ YES → High
  ↓ NO
機能に問題あるが回避策あり？
特定条件下でのみ発生？
  ↓ YES → Medium
  ↓ NO
UI/UXの軽微な問題？
誤字・脱字？
  ↓ YES → Low
```

### 優先度（Priority）判定フロー

```
START
  ↓
本番環境で発生中？
サービス停止リスク？
法的問題？
  ↓ YES → P0（最優先）
  ↓ NO
主要機能？
多数のユーザーに影響？
リリース予定が近い？
  ↓ YES → P1（高優先）
  ↓ NO
副次的な機能？
限定的なユーザーに影響？
リリース計画に余裕？
  ↓ YES → P2（中優先）
  ↓ NO
影響が最小限？
時間がある時に対応？
  ↓ YES → P3（低優先）
```

---

## 実際の判定例

### 例1: 本番環境でログイン不可

```yaml
重要度（Severity）: Critical
理由: システムの主要機能（ログイン）が全ユーザーで使用不可

優先度（Priority）: P0
理由: 本番環境で発生中、サービス全体が使用不可

判定結果: Critical / P0
対応: 即座に緊急対応チーム召集、ホットフィックス適用
```

### 例2: 管理画面の特定レポートが表示されない

```yaml
重要度（Severity）: High
理由: 重要な機能（レポート生成）が使用不可

優先度（Priority）: P2
理由: 管理者のみ使用、月次レポートなので次回リリースで対応可能

判定結果: High / P2
対応: 次回スプリントに組み込んで修正
```

### 例3: スマートフォンで一部表示崩れ

```yaml
重要度（Severity）: Medium
理由: 特定デバイスでのUI問題、機能には影響なし

優先度（Priority）: P1
理由: モバイルユーザーが多く、ユーザー体験への影響が大きい

判定結果: Medium / P1
対応: 次回リリースに含めて修正
```

### 例4: ヘルプページの誤字

```yaml
重要度（Severity）: Low
理由: 誤字、機能には全く影響なし

優先度（Priority）: P3
理由: 時間がある時に修正で問題なし

判定結果: Low / P3
対応: バックログに追加、余裕がある時に修正
```

### 例5: 管理者機能の致命的バグ（使用頻度が極めて低い）

```yaml
重要度（Severity）: Critical
理由: 機能が全く使えない（技術的には致命的）

優先度（Priority）: P2
理由: 使用頻度が年1回程度、次回リリースで対応可能

判定結果: Critical / P2
対応: 重要度は高いが緊急性は低い、計画的に修正
```

---

## 特殊ケースの判定ガイドライン

### セキュリティ脆弱性

**基本原則**: 常にCritical / P0として扱う

**例外**:
- CVSS スコアが低い（3.0未満）かつ悪用困難な場合: High / P1

### パフォーマンス問題

**判定基準**:
- 要件の2倍以上遅い → High
- 要件の1.5倍程度遅い → Medium
- 要件をわずかに超える → Low

### UI/UX問題

**判定基準**:
- 主要フローで発生 → Medium以上
- 副次的な画面で発生 → Low
- 使用頻度が高い → 優先度を1段階上げる

### 環境依存問題

**判定基準**:
- 本番環境で発生 → 優先度を1段階上げる
- 開発/テスト環境のみ → 優先度を1段階下げる

### 顧客影響

**判定基準**:
- VIP顧客に影響 → 優先度を1〜2段階上げる
- 内部ツールのみ → 優先度を1段階下げる

---

## ベストプラクティス

### 1. 一貫した基準の適用
チーム全体で同じ基準を使用し、判定のブレをなくす

### 2. 定期的な見直し
プロジェクトの状況に応じて優先度を再評価する

### 3. ステークホルダーとの合意
重要度はQAが、優先度はPO/PMが決定するという役割分担を明確にする

### 4. ドキュメント化
判定理由をチケットに明記し、後から見返せるようにする

### 5. エスカレーション基準
Critical / P0の場合は即座にPMとステークホルダーに通知

### 6. 迷ったら相談
判定に迷った場合は、チームリーダーやPMに相談する

---

## よくある判定ミス

### ❌ 誤った判定例

**ケース1**: 「見た目の問題だからLow」
```
誤: ログインボタンが表示されない → Low（見た目の問題）
正: ログインボタンが表示されない → Critical（ログイン不可）
```

**ケース2**: 「バグだから全てCritical」
```
誤: ヘルプページの誤字 → Critical
正: ヘルプページの誤字 → Low
```

**ケース3**: 「使っている人が少ないからLow」
```
誤: 決済処理の二重課金（月1回程度発生） → Low
正: 決済処理の二重課金 → Critical（金銭的影響）
```

**ケース4**: 「テスト環境だからP3」
```
誤: テスト環境で発見したCritical不具合 → P3
正: テスト環境で発見したCritical不具合 → P1（本番リリース前に修正必要）
```

---

このガイドを使用して、不具合の重要度と優先度を正確に判定し、開発チームが効率的に対応できるようにしましょう。
